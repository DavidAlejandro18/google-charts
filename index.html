<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualización gráfica de datos | Actividad 8</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Google Charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
        // Cargar la librería de Google Charts
        google.charts.load('current', {
            'packages': ['corechart', 'bar']
        });

        // Dibujar los gráficos
        google.charts.setOnLoadCallback(drawCharts);

        // Ejecutamos todas las funciones para cada gráfica
        function drawCharts() {
            drawPobrezaTotalExtrema();
            drawPobrezaAumentoReduccion();
            drawPobrezaPorZonas();
            drawCarenciasSociales();
            drawPoblacionIndigena();
        }

        function drawPobrezaTotalExtrema() {
            let data = google.visualization.arrayToDataTable([
                ['Año', 'Pobreza Total (%)', 'Pobreza Extrema (%)'],
                ['2008', 44.4, 11.0],
                ['2010', 46.1, 11.3],
                ['2012', 45.5, 9.8],
                ['2014', 46.2, 9.5],
                ['2016', 43.6, 7.6],
                ['2018', 41.9, 7.4]
            ]);

            let options = {
                title: 'Evolución de la Pobreza en México (2008-2018)',
                curveType: 'function',
                legend: { position: 'bottom' },
                hAxis: { title: 'Año' },
                vAxis: { title: 'Porcentaje de Población (%)' },
                // chartArea: { width: '80%', height: '80%' }
                chartArea: { left: '10%', right: '5%', top: '10%' }
            };

            let chart = new google.visualization.LineChart(document.getElementById('pobrezaTotalExtrema'));
            chart.draw(data, options);
        }

        function drawPobrezaAumentoReduccion() {
            let data = google.visualization.arrayToDataTable([
                ['Año', '▼Aguascalientes', '▼Hidalgo', '▼Tlaxcala', '▲Veracruz', '▲Oaxaca', '▲Colima'],
                ['2008', 37.6, 55.2, 59.6, 51.2, 61.8, 27.4],
                ['2010', 38.1, 54.7, 60.3, 57.6, 67.0, 34.7],
                ['2012', 37.8, 52.8, 57.9, 52.6, 61.9, 34.4],
                ['2014', 34.8, 54.3, 58.9, 58.0, 66.8, 34.3],
                ['2016', 28.2, 50.6, 53.9, 62.2, 70.4, 33.6],
                ['2018', 26.2, 43.8, 48.4, 61.8, 66.4, 30.9]
            ]);

            let options = {
                title: 'Comparación de la Pobreza en Entidades con Mayor Reducción y Aumento (2008-2018)',
                curveType: 'function',
                legend: { position: 'bottom' },
                hAxis: { title: 'Año' },
                vAxis: { title: 'Porcentaje de Pobreza (%)' },
                chartArea: { left: '10%', right: '5%', top: '10%' }
            };

            let chart = new google.visualization.LineChart(document.getElementById('pobrezaAumentoReduccion'));

            chart.draw(data, options);
        }

        function drawPobrezaPorZonas() {
            let data = google.visualization.arrayToDataTable([
                ['Zona', 'Porcentaje de Población en Pobreza (%)'],
                ['Rural', 55.3],
                ['Urbana', 37.6]
            ]);

            let options = {
                title: 'Distribución de la Pobreza por Zonas Rurales y Urbanas (2018)',
                pieHole: 0.4,
                chartArea: { left: '10%', right: '5%', top: '10%' },
                colors: ['#1f77b4', '#ff7f0e'],
                legend: { position: 'bottom' }
            };

            // Crear y renderizar el gráfico en el div con id "pie_chart"
            let chart = new google.visualization.PieChart(document.getElementById('pobrezaPorZonas'));
            chart.draw(data, options);
        }

        function drawCarenciasSociales() {
            let data = google.visualization.arrayToDataTable([
                ['Año', 'Rezago Educativo', 'Acceso a Servicios de Salud', 'Acceso a Seguridad Social', 'Calidad y Espacios en la Vivienda'],
                ['2008', 21.9, 38.4, 65.0, 17.7],
                ['2018', 16.9, 16.2, 57.3, 11.1]
            ]);

            let options = {
                title: 'Evolución de las Carencias Sociales (2008-2018)',
                isStacked: true,
                hAxis: {
                    title: 'Año',
                },
                vAxis: {
                    title: 'Porcentaje de Población (%)'
                },
                legend: { position: 'bottom', textStyle: { fontSize: 11 } },
                colors: ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728'],
                // chartArea: {
                //     width: '80%',
                //     height: '70%'
                // }
                chartArea: { left: '10%', right: '5%', top: '10%' },
            };

            let chart = new google.visualization.ColumnChart(document.getElementById('carenciasSociales'));
            chart.draw(data, options);
        }

        function drawPoblacionIndigena() {
            let data = google.visualization.arrayToDataTable([
                ['Año', 'Población Indígena (%)', 'Población No Indígena (%)'],
                ['2008', 76.0, 41.4],
                ['2018', 74.9, 39.4]
            ]);

            let options = {
                title: 'Comparación de Pobreza en Poblaciones Indígenas y No Indígenas (2008-2018)',
                isStacked: true,
                hAxis: { title: 'Año' },
                vAxis: { title: 'Porcentaje de Población en Pobreza (%)' },
                // chartArea: { width: '80%', height: '70%' }
            };

            let chart = new google.visualization.ColumnChart(document.getElementById('poblacionIndigena'));
            chart.draw(data, options);
        }
    </script>
</head>

<body>

    <div class="mx-3 my-3">
        <h3 class="text-center">10 AÑOS DE MEDICIÓN DE POBREZA EN MÉXICO, AVANCES Y RETOS EN POLÍTICA SOCIAL</h3>

        <div class="row row-cols-2">
            <div class="col">
                <div id="pobrezaTotalExtrema" style="height: 500px;"></div>
                <div class="container">
                    <p>En esta gráfica muestra la evolución del porcentaje de la población en situación de pobreza total y pobreza extrema en México entre 2008 y 2018. La línea azul representa la pobreza total y la línea roja la pobreza extrema.</p>
                    <p>Se seleccionó un gráfico de líneas porque es excelente para mostrar tendencias a lo largo del tiempo, permitiendo visualizar fácilmente el comportamiento descendente o ascendente de los porcentajes de pobreza total y extrema.</p>
                </div>
            </div>
            <div class="col">
                <div id="pobrezaAumentoReduccion" style="height: 500px;"></div>
                <div class="container">
                    <p>En esta gráfica se compara la evolución de la pobreza en seis entidades: tres con mayor reducción (Aguascalientes, Hidalgo, Tlaxcala) y tres con mayor aumento (Veracruz, Oaxaca, Colima) entre 2008 y 2018.</p>
                    <p>Se selecciono un gráfico de líneas porque facilita la comparación entre múltiples entidades a lo largo del tiempo. Las líneas permiten ver de forma clara las tendencias en cada estado y cómo han disminuido o aumentado los niveles de pobreza.</p>
                </div>
            </div>
            <div class="col">
                <div id="pobrezaPorZonas" style="height: 500px;"></div>
                <div class="container">
                    <p>En esta gráfica se muestra la distribución de la pobreza en México en 2018, comparando los porcentajes de pobreza en zonas rurales y urbanas.</p>
                    <p>El gráfico de pastel es ideal para mostrar proporciones, permitiendo visualizar de manera clara la diferencia significativa entre la pobreza en las zonas rurales (55.3%) y urbanas (37.6%).</p>
                </div>
            </div>
            <div class="col">
                <div id="carenciasSociales" style="height: 500px;"></div>
                <div class="container">
                    <p>En esta gráfica se muestra cómo han evolucionado diferentes carencias sociales (rezago educativo, acceso a servicios de salud, seguridad social, calidad y espacios en la vivienda) en México entre 2008 y 2018.</p>
                    <p>El gráfico de barras apiladas permite visualizar cómo se distribuyen las carencias sociales en cada año y cómo han mejorado algunos de estos indicadores. Las barras apiladas facilitan comparar las mejoras generales en cada área de carencia.</p>
                </div>
            </div>
            <div class="col">
                <div id="poblacionIndigena" style="height: 500px;"></div>
                <div class="container">
                    <p>En esta gráfica se compara los niveles de pobreza en las poblaciones indígenas y no indígenas en 2008 y 2018, destacando las diferencias entre ambos grupos.</p>
                    <p>Se eligió el gráfico de barras apiladas porque facilita la comparación directa entre los dos grupos poblacionales en los años seleccionados (2008 y 2018). Este tipo de gráfico permite ver tanto la magnitud de la pobreza en cada grupo como el cambio en la distribución entre indígenas y no indígenas.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>

</html>